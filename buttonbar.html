<!DOCTYPE html>
<html>
<head>
<style>
body {
    padding: 0;
    margin: 0;background-color:black;
}
svg {
    color:black;background-color:rgb(240,245,245);width:66px;height:66px;
}
svg:hover {
    color:white;background-color:#EEFFEE;/*font-weight:bold;*/cursor:pointer;
}
svg.active {
    color:black;background-color:#66CCFF;font-weight:bold;
}
svg {
    padding:0;
    margin: 0;
    border-radius:5px;
}
table,tbody,tr,td{
    margin: 0;
    padding: 0;
}
td {
    padding-left:24px;
}
td {
    padding-top:7px;
}
td.title {
    vertical-align:bottom;
    padding-left: 60px;
}
td.title:hover {
    cursor: pointer;
}
</style>
<script>
window.key = function(key) {
    window.parent.postMessage('key:'+key, '*');
    window.parent.focus();
}

/*window.addEventListener("DOMContentLoaded", function(e) {
    document.onkeydown = (e) => {
        e = e || window.event;
        if ("1234567890".indexOf(e.key) > -1) {
            window.parent.postMessage('key:'+e.key, '*');
            window.parent.focus();
            e.view.event.preventDefault();
        }
    };
});*/
window.onmessage = function(e) {
    var msgComponents = e.data.split(':');
    if (msgComponents.length >= 2 && msgComponents[0]=='key') {
        //var els = document.getElementsByTagName('svg');
        let tr = document.getElementsByTagName('tr')[0];
        let tr2 = document.getElementsByTagName('tr')[1];
        let key = msgComponents[1];
        if (key.charCodeAt(0) < 48 || key.charCodeAt(0)>57) {
            let ch = key.charAt(0);
            let idx = ({'a': 0, 'c': 1, 'd': 2, 'o': 3, '|': 4, '-': 5})[ch];

            (tr.querySelector("svg.active"))
                /*<svg>*/
                ?.classList.remove('active');
            (tr2.querySelector("svg.active"))
                /*<svg>*/
                ?.classList.remove('active');
            (tr2.children[idx].querySelector("svg"))
                /*<svg>*/
                .classList.add('active');

            return;
        } // end non-num condition
        let num = parseInt(key);
        let idx = (num==0) ? 9 : num - 1;

        (tr.querySelector("svg.active"))
            /*<svg>*/
            ?.classList.remove('active');
        (tr2.querySelector("svg.active"))
            /*<svg>*/
            ?.classList.remove('active');

        (tr.children[idx].querySelector("svg"))
            /*<svg>*/
            .classList.add('active');

        /*[...tr.children].forEach((td,i)=> {
            let svg = td.children[0];
            if (i ==idx) svg.classList.add('active');
            else svg.classList.remove('active');
        });*/

        /*for (var i=0; i<els.length; i++) {
            var el = els[i];
            if (el.innerHTML.indexOf(msgComponents[1]) > -1) {
                el.classList.add('active');
            }
            else {
                el.classList.remove('active');
            }
        }*/
    }
}
</script>
</head>
<body onclick="window.parent.focus()">
<!--target will be _parent, also add stylesheet-->
<table><tbody><tr><td onclick="key('1')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
    <text x="52" y="55" fill="#28282B">1</text>
    <line x1="20" y1="30" x2="50" y2="30" stroke="black" stroke-width="1"/>
</svg></td><td onclick="key('2')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
    <text x="52" y="55" fill="#28282B">2</text>
    <polyline points="18 31 55 31 45 21 55 31 45 41" stroke="black" fill="transparent" stroke-width="1"/>
</svg>
</td>
<td onclick="key('3')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
    <text x="52" y="55" fill="#28282B">3</text>
    <rect rx="0" ry="0" x="13" y="15" width="45" height="20" stroke="black" fill="transparent" stroke-width="1"/>
</svg></td>
<td onclick="key('4')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
    <text x="52" y="55" fill="#28282B">4</text>
    <rect rx="10" ry="10" x="13" y="14" width="45" height="22" stroke="black" fill="transparent" stroke-width="1"/>
</svg></td>
<td onclick="key('5')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
    <text x="52" y="55" fill="#28282B">5</text>
    <polyline points="27 25 34 18 41 25 34 32 27 25" stroke="black" fill="transparent" stroke-width="1"/>
</svg></td>
<td onclick="key('6')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
    <text x="52" y="55" fill="#28282B">6</text>
    <circle cx="35" cy="24" r="10" fill="black" stroke="black" stroke-width="1"/>
</svg></td>
<td onclick="key('7')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
    <text x="52" y="55" fill="#28282B">7</text>
    <circle cx="35" cy="23" r="6" fill="black" stroke="black" stroke-width="1"/>
    <circle cx="35" cy="23" r="10" fill="transparent" stroke="black" stroke-width="1"/>
</svg></td>
<td onclick="key('8')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
    <text x="52" y="55" fill="#28282B">8</text>
    <line x1="31" y1="41" x2="44" y2="41" stroke="#28282B" stroke-width="1"/>
    <line x1="31" y1="21" x2="44" y2="21" stroke="#28282B" stroke-width="1"/>
    <line x1="17" y1="31" x2="26" y2="31" stroke="#28282B" stroke-width="1"/>
    <line x1="28" y1="14" x2="28" y2="48" stroke="black" stroke-width="3"/>
</svg></td>
<td onclick="key('9')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
    <text x="52" y="55" fill="#28282B">9</text>
    <text x="20" y="30" fill="#28282B">Text</text>
</svg></td>
<td onclick="key('0')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
    class="active"
>
    <text x="52" y="55" fill="#28282B">0</text>
    <text x="15" y="30" fill="#28282B">Select</text>
</svg></td>
<td class="title" onclick="window.top.location.href='index.html'"><a style="font-size:60px;position:relative;top:7px !important;color:white;">^</a><a style="text-decoration:underline;position:relative;left:-14px;top:-15px;color:white;">__ct.svg</a></td>
</tr>
</tr><td onclick="key('a')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
    <text x="13" y="24" fill="#28282B">Action</text>
    <text x="13" y="39" fill="#28282B">Node</text>
    <rect rx="10" ry="10" x="4" y="7" width="58" height="38" stroke="black" fill="transparent" stroke-width="1"/>
    <text x="52" y="60" fill="#28282B">a</text>
</svg></td>
<td onclick="key('ca')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
    <text x="30" y="36" fill="#28282B">A</text>
    <circle cx="35" cy="30" r="14" fill="transparent" stroke="black" stroke-width="1"/>
    <text x="44" y="60" fill="#28282B">c</text><text x="52" y="60" fill="#88888B" style="font-style:italic;">a</text>
</svg></td>
<td onclick="key('d')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
    <text x="52" y="60" fill="#28282B">d</text>
    <text x="12" y="16" fill="red" style="font-style:italic">x</text>
    <rect opacity="0.4" rx="0" ry="0" x="15" y="11" width="20" height="20" stroke="black" fill="transparent" stroke-width="1" stroke-linecap="round" stroke-dasharray="0 3 0" stroke-dashoffset="100" stroke-mitterlimit="0"/>
    <!--<text x="15" y="36" fill="#28282B">Delete</text>-->
</svg></td>
<td onclick="key('o')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
    <text x="52" y="60" fill="#28282B">o</text>
    <text x="13" y="24" fill="#28282B">Object</text>
    <text x="13" y="39" fill="#28282B">Node</text>
    <rect rx="0" ry="0" x="6" y="7" width="56" height="38" stroke="black" fill="transparent" stroke-width="1"/>
</svg></td>
<td onclick="key('|2')">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
     <text x="44" y="60" fill="#28282B">|</text><text x="52" y="60" fill="#88888B" style="font-style:italic;">2</text>
    <rect rx="0" ry="0" x="10" y="7" width="25" height="38" stroke="black" fill="transparent" stroke-width="1"/>
    <rect rx="0" ry="0" x="35" y="7" width="25" height="38" stroke="black" fill="transparent" stroke-width="1"/>
</svg></td>
<td onclick="key('-2')" colspan="7">
<svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="66"
    height="66"
    viewBox="0,0,66,66"
>
     <text x="44" y="60" fill="#28282B">-</text><text x="52" y="60" fill="#88888B" style="font-style:italic;">2</text>
    <rect rx="0" ry="0" x="10" y="10" width="50" height="18" stroke="black" fill="transparent" stroke-width="1"/>
    <rect rx="0" ry="0" x="10" y="28" width="50" height="18" stroke="black" fill="transparent" stroke-width="1"/>
</svg></td>
</tr>
</tbody></table>
</body>
</html>
