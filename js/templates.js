templateXml = {'swim3': `

    <text x="81" y="34" fill="black">Users</text>
    <text x="312" y="34" fill="black">Web Service</text>
    <text x="549" y="34" fill="black">Developers</text>
    <line x1="3" y1="55" x2="730" y2="55" stroke="black" stroke-width="1"/>
    <rect rx="0" ry="0" x="489" y="3" width="240" height="745" stroke="black" fill="transparent" stroke-width="1"/>
    <rect rx="0" ry="0" x="246" y="3" width="240" height="745" stroke="black" fill="transparent" stroke-width="1"/>
    <rect rx="0" ry="0" x="3" y="3" width="240" height="745" stroke="black" fill="transparent" stroke-width="1"/>

`,'pins': `

        <text x="129" y="134" fill="black">Get User</text>
    <text x="129" y="154" fill="black">Input</text>
    <text x="222" y="111" fill="black">type</text>
    <text x="222" y="181" fill="black">input</text>
    <text x="328" y="123" fill="black">Format</text>
    <text x="327" y="142" fill="black">Input</text>
    <text x="545" y="124" fill="black">Format</text>
    <text x="544" y="142" fill="black">Output</text>
    <circle cx="50" cy="139" r="10" fill="black" stroke="black" stroke-width="1"/>
    <rect rx="10" ry="10" x="118" y="115" width="100" height="50" stroke="black" fill="transparent" stroke-width="1"/>
    <polyline points="65 139 114 139 104 129 114 139 104 149" stroke="black" fill="transparent" stroke-width="1"/>
    <rect rx="0" ry="0" x="223" y="120" width="15" height="15" stroke="black" fill="transparent" stroke-width="1"/>
    <rect rx="0" ry="0" x="223" y="145" width="15" height="15" stroke="black" fill="transparent" stroke-width="1"/>
    <polyline points="245 128 311 128 301 118 311 128 301 138" stroke="black" fill="transparent" stroke-width="1"/>
    <polyline points="249 155 311 155 301 145 311 155 301 165" stroke="black" fill="transparent" stroke-width="1"/>
    <rect rx="10" ry="10" x="321" y="104" width="95" height="57" stroke="black" fill="transparent" stroke-width="1"/>
    <polyline points="423 134 531 134 521 124 531 134 521 144" stroke="black" fill="transparent" stroke-width="1"/>
    <rect rx="0" ry="0" x="459" y="112" width="15" height="15" stroke="black" fill="transparent" stroke-width="1"/>
    <rect rx="10" ry="10" x="539" y="103" width="95" height="55" stroke="black" fill="transparent" stroke-width="1"/>
    <polyline points="641 132 677 132 667 122 677 132 667 142" stroke="black" fill="transparent" stroke-width="1"/>
    <circle cx="696" cy="131" r="6" fill="black" stroke="black" stroke-width="1"/>
    <circle cx="696" cy="131" r="10" fill="transparent" stroke="black" stroke-width="1"/>

`,'connectors': `

  <text x="140" y="155" fill="black">Order</text>
    <text x="409" y="230" fill="black">Ship</text>
    <text x="407" y="248" fill="black">Order</text>
    <text x="299" y="148" fill="black">A</text>
    <text x="299" y="239" fill="black">A</text>
    <text x="142" y="136" fill="black">Fill</text>
    <polyline points="81 141 130 141 120 131 130 141 120 151" stroke="black" fill="transparent" stroke-width="1"/>
    <circle cx="66" cy="141" r="10" fill="black" stroke="black" stroke-width="1"/>
    <rect rx="10" ry="10" x="134" y="117" width="100" height="50" stroke="black" fill="transparent" stroke-width="1"/>
    <polyline points="242 143 283 143 273 133 283 143 273 153" stroke="black" fill="transparent" stroke-width="1"/>
    <circle cx="304" cy="143" r="12" fill="transparent" stroke="black" stroke-width="1"/>
    <circle cx="304" cy="234" r="12" fill="transparent" stroke="black" stroke-width="1"/>
    <polyline points="323 233 389 233 379 223 389 233 379 243" stroke="black" fill="transparent" stroke-width="1"/>
    <rect rx="10" ry="10" x="396" y="209" width="104" height="50" stroke="black" fill="transparent" stroke-width="1"/>
    <polyline points="510 233 579 233 569 223 579 233 569 243" stroke="black" fill="transparent" stroke-width="1"/>
    <circle cx="596" cy="233" r="6" fill="black" stroke="black" stroke-width="1"/>
    <circle cx="596" cy="233" r="10" fill="transparent" stroke="black" stroke-width="1"/>

`,
'collab': `

    <rect rx="0" ry="0" x="121" y="219" width="81" height="59" stroke="black" fill="transparent" stroke-width="1"/>
    <text x="217" y="245" fill="black">1</text>
    <rect rx="0" ry="0" x="130" y="329" width="97" height="68" stroke="black" fill="transparent" stroke-width="1"/>
    <text x="134" y="348" fill="black">support</text>
    <text x="131" y="379" fill="black">technician</text>
    <line x1="240" y1="373" x2="400" y2="373" stroke="black" stroke-width="1"/>
    <line x1="214" y1="256" x2="400" y2="256" stroke="black" stroke-width="1"/>
    <text x="358" y="246" fill="black">*</text>
    <rect rx="0" ry="0" x="405" y="227" width="94" height="59" stroke="black" fill="transparent" stroke-width="1"/>
    <text x="414" y="258" fill="black">request</text>
    <text x="414" y="276" fill="black">ticket</text>
    <rect rx="0" ry="0" x="410" y="341" width="120" height="67" stroke="black" fill="transparent" stroke-width="1"/>
    <text x="421" y="364" fill="black">ticket</text>
    <text x="418" y="391" fill="black">assignment</text>
    <text x="131" y="248" fill="black">user</text>
    <line x1="457" y1="297" x2="458" y2="330" stroke="black" stroke-width="1"/>
    <text x="434" y="309" fill="black">1</text>
    <text x="434" y="331" fill="black">1</text>
    <text x="241" y="361" fill="black">1</text>
    <text x="386" y="363" fill="black">*</text>

    <line x1="110" y1="140" x2="590" y2="140" stroke="black" stroke-width="1" stroke-dasharray="0 10 0" />
    <text x="340" y="66" fill="black">Tech.</text>
    <text x="330" y="96" fill="black">Supp.</text>
    <text x="300" y="126" fill="black">Collaboration</text>
    <circle cx="350" cy="350" r="320" fill="transparent" stroke="black" stroke-width="1" stroke-linecap="round" stroke-dasharray="0 10 0" stroke-dashoffset="100" stroke-mitterlimit="0" /><!--315-->

`, // end collab
'decision': `
    <text x="45" y="533" fill="black" id="text4">is brave?</text>
    <text x="80" y="434" fill="black" id="text3">is firefox?</text>
    <text x="181" y="337" fill="black" id="text2">is chrome?</text>
    <text x="304" y="218" fill="black" id="text1">is web browser?</text>
    <text x="208" y="197" fill="black" id="text5">yes</text>
    <text x="115" y="310" fill="black" id="text6">no</text>
    <text x="23" y="630" fill="black" id="text7">notify of</text>
    <text x="18" y="653" fill="black" id="text8">unsupported browser</text>
    <text x="507" y="203" fill="black" id="text9">no</text>
    <text x="560" y="375" fill="black" id="text10">notify of</text>
    <text x="560" y="399" fill="black" id="text11">unsupported device</text>
    <text x="348" y="479" fill="black" id="text12">configure web</text>
    <text x="347" y="501" fill="black" id="text13">app</text>
    <text x="288" y="319" fill="black" id="text14">yes</text>
    <text x="195" y="421" fill="black" id="text15">yes</text>
    <text x="159" y="512" fill="black" id="text16">yes</text>
    <text x="43" y="414" fill="black" id="text17">no</text>
    <text x="8" y="509" fill="black" id="text18">no</text>
    <polyline points="32 526 39 499 139 499 146 526 139 553 39 553 32 526" stroke="black" fill="transparent" stroke-width="1" id="polyline2"/>
    <polyline points="76 427 83 410 183 410 190 427 183 444 83 444 76 427" stroke="black" fill="transparent" stroke-width="1" id="polyline3"/>
    <polyline points="168 328 175 301 275 301 282 328 275 355 175 355 168 318" stroke="black" fill="transparent" stroke-width="1" id="polyline1"/>
    <polyline points="279 212 286 195 486 195 493 212 486 229 286 229 279 212" stroke="black" fill="transparent" stroke-width="1" id="polyline4"/>
    <line x1="277" y1="210" x2="220" y2="210" stroke="black" stroke-width="1" id="line1"/>
    <polyline points="221 212 221 294 211 284 221 294 231 284" stroke="black" fill="transparent" stroke-width="1" id="polyline5"/>
    <line x1="165" y1="324" x2="126" y2="324" stroke="black" stroke-width="1" id="line2"/>
    <line x1="126" y1="324" x2="131" y2="329" stroke="black" stroke-width="1" id="line3"/>
    <polyline points="128 328 128 400 118 390 128 400 138 390" stroke="black" fill="transparent" stroke-width="1" id="polyline6"/>
    <line x1="74" y1="425" x2="50" y2="425" stroke="black" stroke-width="1" id="line4"/>
    <polyline points="50 425 50 489 40 479 50 489 60 479" stroke="black" fill="transparent" stroke-width="1" id="polyline7"/>
    <line x1="498" y1="213" x2="581" y2="213" stroke="black" stroke-width="1" id="line5"/>
    <polyline points="582 213 582 345 572 335 582 345 592 335" stroke="black" fill="transparent" stroke-width="1" id="polyline8"/>
    <line x1="28" y1="528" x2="12" y2="528" stroke="black" stroke-width="1" id="line6"/>
    <polyline points="12 529 12 598 2 588 12 598 22 588" stroke="black" fill="transparent" stroke-width="1" id="polyline10"/>
    <rect rx="10" ry="10" x="8" y="605" width="210" height="64" stroke="black" fill="transparent" stroke-width="1" id="rect1"/>
    <rect rx="10" ry="10" x="543" y="349" width="203" height="65" stroke="black" fill="transparent" stroke-width="1" id="rect2"/>
    <rect rx="10" ry="10" x="332" y="454" width="161" height="73" stroke="black" fill="transparent" stroke-width="1" id="rect3"/>
    <line x1="285" y1="329" x2="375" y2="329" stroke="black" stroke-width="1" id="line7"/>
    <line x1="192" y1="427" x2="346" y2="427" stroke="black" stroke-width="1" id="line8"/>
    <polyline points="152 522 322 522 312 512 322 522 312 532" stroke="black" fill="transparent" stroke-width="1" id="polyline11"/>
    <polyline points="347 427 347 449 337 439 347 449 357 439" stroke="black" fill="transparent" stroke-width="1" id="polyline12"/>
    <polyline points="376 330 376 448 366 438 376 448 386 438" stroke="black" fill="transparent" stroke-width="1" id="polyline13"/>
    <polyline points="583 608 590 601 597 608 590 615 583 608" stroke="black" fill="transparent" stroke-width="1" id="polyline15"/>
    <line x1="634" y1="416" x2="634" y2="607" stroke="black" stroke-width="1" id="line9"/>
    <polyline points="633 608 598 608 608 598 598 608 608 618" stroke="black" fill="transparent" stroke-width="1" id="polyline16"/>
    <line x1="496" y1="496" x2="587" y2="497" stroke="black" stroke-width="1" id="line10"/>
    <polyline points="589 497 589 603 579 593 589 603 599 593" stroke="black" fill="transparent" stroke-width="1" id="polyline17"/>
    <polyline points="224 608 578 608 568 598 578 608 568 618" stroke="black" fill="transparent" stroke-width="1" id="polyline18"/>
    <polyline points="591 617 591 654 581 644 591 654 601 644" stroke="black" fill="transparent" stroke-width="1" id="polyline19"/>
    <circle cx="591" cy="665" r="6" fill="black" stroke="black" stroke-width="1"/>
    <circle cx="591" cy="665" r="10" fill="transparent" stroke="black" stroke-width="1"/>
    <circle cx="385" cy="97" r="10" fill="black" stroke="black" stroke-width="1"/>
    <polyline points="385 112 385 190 375 180 385 190 395 180" stroke="black" fill="transparent" stroke-width="1" id="polyline20"/>    
`, // end decision // CT/45


};
addEventListener('DOMContentLoaded', (e) => {
    var template = new URL(location.href).searchParams.get("template");
    if (template == null) {
        return;
    }
    if ("swim3|pins|connectors|collab|decision".indexOf(template) > -1) {
        setTimeout(function() {
            document.getElementById("svgFullTextarea").value = 
                svgHead + templateXml[template] + svgTrail;
            onStart({});
            /*document.getElementsByTagName('iframe')[0].style.height='0px';
            document.getElementById('pageCodeFrame').style.width='0px';
            document.getElementById('svgFullTextarea').style.width='0px';
            */
            document.getElementById('footer').style.height='0px';

            window.gToolbarFrame.setFrame(0,0,0,0);
            window.gCodeFrame.setFrame(0,0,0,0);
            window.gSvgFrameNode.applyFrames();

            /*let bottomPadDiv = document.createElement('div');
            bottomPadDiv.style.position = 'absolute';
            bottomPadDiv.style.top = '800px';
            bottomPadDiv.style.height = '100px';
            bottomPadDiv.innerHTML = '<br/><br/><br/><a style="color:white">.</a>';
            document.body.appendChild(bottomPadDiv); //to make sure you can scroll
            */
            let winTitleH = 2;//just a guess of the height, also change in addon-palettes.js
            window.scrollBy(750,88+winTitleH);
        }, 400);
    }
});
